<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Login | Compiler Cafe</title>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
	<style>
		/* ====== General Styles ====== */
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Poppins', sans-serif;
			background: url('https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?auto=format&fit=crop&w=1600&q=80') center/cover no-repeat;
			color: #fff;
			display: flex;
			align-items: center;
			justify-content: center;
			height: 100vh;
			position: relative;
		}

		body::before {
			content: '';
			position: absolute;
			inset: 0;
			background: rgba(0, 0, 0, 0.7);
		}

		.auth-container {
			position: relative;
			z-index: 2;
			width: 100%;
			max-width: 420px;
			padding: 20px;
		}

		.auth-box {
			background: rgba(20, 20, 20, 0.9);
			border-radius: 15px;
			padding: 40px 30px;
			text-align: center;
			box-shadow: 0 0 15px rgba(255, 183, 0, 0.2);
			animation: fadeIn 1.2s ease;
		}

		.auth-box h1 {
			color: #ffb700;
			font-size: 2rem;
			margin-bottom: 10px;
		}

		.auth-box p {
			color: #ccc;
			font-size: 0.95rem;
			margin-bottom: 30px;
		}

		.input-group {
			text-align: left;
			margin-bottom: 20px;
		}

		.input-group label {
			display: block;
			margin-bottom: 8px;
			color: #ffb700;
			font-weight: 500;
		}

		.input-group input {
			width: 100%;
			padding: 10px 12px;
			border-radius: 8px;
			border: none;
			background: #1a1a1a;
			color: #fff;
			outline: none;
			font-size: 1rem;
		}

		.btn {
			width: 100%;
			padding: 12px;
			background: #ffb700;
			color: #000;
			font-weight: 600;
			border: none;
			border-radius: 50px;
			cursor: pointer;
			transition: all 0.3s;
			margin-top: 5px;
		}

		.btn:hover {
			background: #ffc933;
			transform: scale(1.05);
		}

		.redirect {
			margin-top: 15px;
			font-size: 0.9rem;
		}

		.redirect a {
			color: #ffb700;
			text-decoration: none;
		}

		.redirect a:hover {
			text-decoration: underline;
		}

		/* Flash messages */
		.flashes {
			margin-bottom: 15px;
			text-align: left;
		}

		.flash {
			padding: 10px 12px;
			border-radius: 8px;
			margin-bottom: 8px;
			font-size: 0.95rem;
		}

		.flash.info { background: rgba(255, 183, 0, 0.12); color: #ffdca3; }
		.flash.success { background: rgba(56, 189, 248, 0.08); color: #bdefff; }
		.flash.danger { background: rgba(239, 68, 68, 0.08); color: #ffd2d2; }
		.flash.warning { background: rgba(250, 204, 21, 0.06); color: #fff3cd; }

		/* ====== Animations ====== */
		@keyframes fadeIn {
			from { opacity: 0; transform: translateY(20px); }
			to { opacity: 1; transform: translateY(0); }
		}
	</style>
</head>
<body>
	<div class="auth-container">
		<div class="auth-box">
			<h1>Welcome Back ðŸ‘‹</h1>
			<p>Login to continue your smart dining experience</p>

			{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
					<div class="flashes">
						{% for category, message in messages %}
							<div class="flash {{ category }}">{{ message }}</div>
						{% endfor %}
					</div>
				{% endif %}
			{% endwith %}

			<!-- NORMAL LOGIN ONLY -->
			<form id="loginForm" method="post" action="{{ url_for('login') }}">

				<div class="input-group">
					<label for="email">Email</label>
					<input type="email" id="email" name="email" placeholder="Enter your email" required>
				</div>

				<div class="input-group">
					<label for="password">Password</label>
					<input type="password" id="password" name="password" placeholder="Enter your password" required>
				</div>

				<button type="submit" class="btn">Login</button>

				<p class="redirect"><a href="{{ url_for('forgot') }}">Forgot Password?</a></p>

				<p class="redirect">Donâ€™t have an account? <a href="{{ url_for('signup') }}">Register here</a></p>
			</form>

		</div>
	</div>

	<script>
		document.getElementById('loginForm').addEventListener('submit', function(){
			const btn = document.querySelector('.btn');
			if(btn){
				btn.disabled = true;
				btn.textContent = 'Logging in...';
			}
		});
	</script>
</body>
</html>
